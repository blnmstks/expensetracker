# –ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å React Router

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ App.tsx                    # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
‚îú‚îÄ‚îÄ main.tsx                   # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îî‚îÄ‚îÄ index.tsx              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–æ—É—Ç–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ pages/                     # –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ ExpensesPage.tsx       # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å—Ö–æ–¥–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ AnalyticsPage.tsx      # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ HistoryPage.tsx        # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∏—Å—Ç–æ—Ä–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ SettingsPage.tsx       # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îÇ
‚îú‚îÄ‚îÄ components/                # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ layout/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MainLayout.tsx     # –û—Å–Ω–æ–≤–Ω–æ–π –ª–∞–π–∞—É—Ç —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ AddExpense.tsx         # –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ Analytics.tsx          # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ History.tsx            # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∏—Å—Ç–æ—Ä–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ SettingsPage.tsx       # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îÇ   ‚îú‚îÄ‚îÄ Login.tsx              # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—Ö–æ–¥–∞
‚îÇ   ‚îî‚îÄ‚îÄ ui/                    # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ
‚îú‚îÄ‚îÄ services/                  # API —Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ api.ts
‚îÇ   ‚îî‚îÄ‚îÄ authAPI.ts
‚îÇ
‚îî‚îÄ‚îÄ styles/                    # –°—Ç–∏–ª–∏
    ‚îú‚îÄ‚îÄ globals.css
    ‚îî‚îÄ‚îÄ antd-custom.css
```

## üõ£Ô∏è –†–æ—É—Ç–∏–Ω–≥

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–æ—É—Ç–æ–≤ (`src/routes/index.tsx`)

```typescript
/                              # –ö–æ—Ä–Ω–µ–≤–æ–π —Ä–æ—É—Ç
‚îú‚îÄ‚îÄ /expenses                  # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
‚îú‚îÄ‚îÄ /analytics                 # –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
‚îú‚îÄ‚îÄ /history                   # –ò—Å—Ç–æ—Ä–∏—è
‚îî‚îÄ‚îÄ /settings                  # –ù–∞—Å—Ç—Ä–æ–π–∫–∏
```

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–æ—É—Ç–∏–Ω–≥

1. **MainLayout** - —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π –ª–∞–π–∞—É—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç:
   - –ë–æ–∫–æ–≤–æ–µ –º–µ–Ω—é (–¥–µ—Å–∫—Ç–æ–ø)
   - –í–µ—Ä—Ö–Ω–∏–π —Ö–µ–¥–µ—Ä —Å –∫–Ω–æ–ø–∫–æ–π –º–µ–Ω—é (–º–æ–±–∏–ª—å–Ω—ã–π)
   - –ù–∏–∂–Ω–∏–π –Ω–∞–≤–±–∞—Ä (–º–æ–±–∏–ª—å–Ω—ã–π)
   - `<Outlet />` –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –¥–æ—á–µ—Ä–Ω–∏—Ö —Ä–æ—É—Ç–æ–≤

2. **Pages** - –∫–∞–∂–¥–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–±–µ—Ä–Ω—É—Ç–∞ –≤ ErrorBoundary –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

3. **Navigation** - –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –ø—É–Ω–∫—Ç –º–µ–Ω—é –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏—è —á–µ—Ä–µ–∑ `navigate()` –∏–∑ React Router

## üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
App.tsx (—Å–æ—Å—Ç–æ—è–Ω–∏–µ)
    ‚Üì
RouterProvider
    ‚Üì
MainLayout (–Ω–∞–≤–∏–≥–∞—Ü–∏—è + Outlet)
    ‚Üì
Pages (–æ–±–µ—Ä—Ç–∫–∏ —Å ErrorBoundary)
    ‚Üì
Components (—Ñ–æ—Ä–º—ã –∏ –ª–æ–≥–∏–∫–∞)
```

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### 1. –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- **Pages** - —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–∞–∫ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –µ–¥–∏–Ω–∏—Ü—ã
- **Components** - –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **Layout** - –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **Routes** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤

### 2. –ù–∞–≤–±–∞—Ä –≤–∏–¥–µ–Ω –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
- Layout –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –≤—Å–µ —Ä–æ—É—Ç—ã
- –ù–∞–≤–±–∞—Ä –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω
- –ö–æ–Ω—Ç–µ–Ω—Ç –º–µ–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ Outlet

### 3. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ URL –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- –ú–æ–∂–Ω–æ –¥–µ–ª–∏—Ç—å—Å—è —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –†–∞–±–æ—Ç–∞–µ—Ç –∫–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞

### 4. –õ–µ–≥–∫–æ—Å—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ä–æ—É—Ç
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Ä–æ—É—Ç—ã
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ —Ä–æ—É—Ç—ã

### 5. –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- React Router –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
- Lazy loading —Ä–æ—É—Ç–æ–≤ (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å)
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

## üéØ –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã
```typescript
// src/pages/NewPage.tsx
import ErrorBoundary, { SectionFallback } from '../components/ErrorBoundary';

export function NewPage() {
  return (
    <ErrorBoundary fallback={<SectionFallback name="–ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞" />}>
      <div>–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã</div>
    </ErrorBoundary>
  );
}
```

### –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å —Ä–æ—É—Ç
```typescript
// src/routes/index.tsx
{
  path: 'new-page',
  element: <NewPage />,
}
```

### –®–∞–≥ 3: –î–æ–±–∞–≤–∏—Ç—å –ø—É–Ω–∫—Ç –º–µ–Ω—é
```typescript
// src/components/layout/MainLayout.tsx
const menuItems: MenuItem[] = [
  // ...—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø—É–Ω–∫—Ç—ã
  {
    key: 'new-page',
    icon: <YourIcon />,
    label: '–ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞',
  },
];
```

## üîê –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ —Ä–æ—É—Ç—ã (–¥–ª—è –±—É–¥—É—â–µ–≥–æ)

–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ–±–µ—Ä—Ç–∫—É –¥–ª—è –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö —Ä–æ—É—Ç–æ–≤:

```typescript
// src/components/ProtectedRoute.tsx
function ProtectedRoute({ children }) {
  const isAuthenticated = // –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
  
  if (!isAuthenticated) {
    return <Navigate to="/login" replace />;
  }
  
  return children;
}
```

## üì± –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å

- **–î–µ—Å–∫—Ç–æ–ø** (‚â•768px): –ë–æ–∫–æ–≤–æ–µ –º–µ–Ω—é + –∫–æ–Ω—Ç–µ–Ω—Ç
- **–ú–æ–±–∏–ª—å–Ω—ã–π** (<768px): –í–µ—Ä—Ö–Ω–∏–π —Ö–µ–¥–µ—Ä + –∫–æ–Ω—Ç–µ–Ω—Ç + –Ω–∏–∂–Ω–∏–π –Ω–∞–≤–±–∞—Ä

–ù–∞–≤–±–∞—Ä —Ç–µ–ø–µ—Ä—å –≤–∏–¥–µ–Ω –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö –±–ª–∞–≥–æ–¥–∞—Ä—è —Ç–æ–º—É, —á—Ç–æ –æ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ MainLayout, –∫–æ—Ç–æ—Ä—ã–π –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –≤—Å–µ —Ä–æ—É—Ç—ã.

## üöÄ –î–∞–ª—å–Ω–µ–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **Lazy Loading**
```typescript
const ExpensesPage = lazy(() => import('../pages/ExpensesPage'));
```

2. **–í–ª–æ–∂–µ–Ω–Ω—ã–µ —Ä–æ—É—Ç—ã**
```typescript
{
  path: 'analytics',
  element: <AnalyticsLayout />,
  children: [
    { path: 'monthly', element: <MonthlyAnalytics /> },
    { path: 'yearly', element: <YearlyAnalytics /> },
  ]
}
```

3. **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL**
```typescript
{
  path: 'expense/:id',
  element: <ExpenseDetail />,
}
```

4. **Loader –¥–ª—è –¥–∞–Ω–Ω—ã—Ö**
```typescript
{
  path: 'analytics',
  element: <AnalyticsPage />,
  loader: async () => {
    return fetch('/api/analytics');
  }
}
```
